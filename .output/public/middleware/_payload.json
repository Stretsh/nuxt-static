[{"data":1,"prerenderedAt":892},["Reactive",2],{"content-query-AYEeBewoCd":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":5,"title":7,"description":8,"body":9,"_type":887,"_id":888,"_source":889,"_file":890,"_extension":891},"/middleware","",false,"Middleware","There are three kinds of route middleware in Nuxt:",{"type":10,"children":11,"toc":884},"root",[12,20,25,61,68,73,84,306,316,574,584,878],{"type":13,"tag":14,"props":15,"children":17},"element","h1",{"id":16},"middleware",[18],{"type":19,"value":7},"text",{"type":13,"tag":21,"props":22,"children":23},"p",{},[24],{"type":19,"value":8},{"type":13,"tag":26,"props":27,"children":28},"ol",{},[29,35,49],{"type":13,"tag":30,"props":31,"children":32},"li",{},[33],{"type":19,"value":34},"Anonymous route middleware, which are defined directly in the pages where they are used.",{"type":13,"tag":30,"props":36,"children":37},{},[38,40,47],{"type":19,"value":39},"Named route middleware, which are placed in the ",{"type":13,"tag":41,"props":42,"children":44},"code",{"className":43},[],[45],{"type":19,"value":46},"middleware/",{"type":19,"value":48}," directory and will be automatically loaded via asynchronous import when used on a page.",{"type":13,"tag":30,"props":50,"children":51},{},[52,54,59],{"type":19,"value":53},"Global route middleware, which are placed in the ",{"type":13,"tag":41,"props":55,"children":57},{"className":56},[],[58],{"type":19,"value":46},{"type":19,"value":60}," directory (with a .global suffix) and will be automatically run on every route change.",{"type":13,"tag":62,"props":63,"children":65},"h2",{"id":64},"middleware-example",[66],{"type":19,"value":67},"Middleware Example",{"type":13,"tag":21,"props":69,"children":70},{},[71],{"type":19,"value":72},"Test out named middleware in the following example! Without entering your user name, you will be blocked from visiting the private page.",{"type":13,"tag":74,"props":75,"children":77},"h4",{"id":76},"middlewareauthts",[78],{"type":13,"tag":41,"props":79,"children":81},{"className":80},[],[82],{"type":19,"value":83},"/middleware/auth.ts",{"type":13,"tag":85,"props":86,"children":90},"pre",{"className":87,"code":88,"language":89,"meta":5,"style":5},"language-ts shiki shiki-themes monokai","export default defineNuxtRouteMiddleware((to, from) => {\n  const username = useState('username');\n\n  if (!username.value) {\n    process.client && alert('Sorry, you need to fill your username');\n    return navigateTo('/');\n  }\n});\n","ts",[91],{"type":13,"tag":41,"props":92,"children":93},{"__ignoreMap":5},[94,155,195,205,229,261,288,297],{"type":13,"tag":95,"props":96,"children":99},"span",{"class":97,"line":98},"line",1,[100,106,111,117,123,129,134,139,144,150],{"type":13,"tag":95,"props":101,"children":103},{"style":102},"--shiki-default:#F92672",[104],{"type":19,"value":105},"export",{"type":13,"tag":95,"props":107,"children":108},{"style":102},[109],{"type":19,"value":110}," default",{"type":13,"tag":95,"props":112,"children":114},{"style":113},"--shiki-default:#A6E22E",[115],{"type":19,"value":116}," defineNuxtRouteMiddleware",{"type":13,"tag":95,"props":118,"children":120},{"style":119},"--shiki-default:#F8F8F2",[121],{"type":19,"value":122},"((",{"type":13,"tag":95,"props":124,"children":126},{"style":125},"--shiki-default:#FD971F;--shiki-default-font-style:italic",[127],{"type":19,"value":128},"to",{"type":13,"tag":95,"props":130,"children":131},{"style":119},[132],{"type":19,"value":133},", ",{"type":13,"tag":95,"props":135,"children":136},{"style":125},[137],{"type":19,"value":138},"from",{"type":13,"tag":95,"props":140,"children":141},{"style":119},[142],{"type":19,"value":143},") ",{"type":13,"tag":95,"props":145,"children":147},{"style":146},"--shiki-default:#66D9EF;--shiki-default-font-style:italic",[148],{"type":19,"value":149},"=>",{"type":13,"tag":95,"props":151,"children":152},{"style":119},[153],{"type":19,"value":154}," {\n",{"type":13,"tag":95,"props":156,"children":158},{"class":97,"line":157},2,[159,164,169,174,179,184,190],{"type":13,"tag":95,"props":160,"children":161},{"style":146},[162],{"type":19,"value":163},"  const",{"type":13,"tag":95,"props":165,"children":166},{"style":119},[167],{"type":19,"value":168}," username ",{"type":13,"tag":95,"props":170,"children":171},{"style":102},[172],{"type":19,"value":173},"=",{"type":13,"tag":95,"props":175,"children":176},{"style":113},[177],{"type":19,"value":178}," useState",{"type":13,"tag":95,"props":180,"children":181},{"style":119},[182],{"type":19,"value":183},"(",{"type":13,"tag":95,"props":185,"children":187},{"style":186},"--shiki-default:#E6DB74",[188],{"type":19,"value":189},"'username'",{"type":13,"tag":95,"props":191,"children":192},{"style":119},[193],{"type":19,"value":194},");\n",{"type":13,"tag":95,"props":196,"children":198},{"class":97,"line":197},3,[199],{"type":13,"tag":95,"props":200,"children":202},{"emptyLinePlaceholder":201},true,[203],{"type":19,"value":204},"\n",{"type":13,"tag":95,"props":206,"children":208},{"class":97,"line":207},4,[209,214,219,224],{"type":13,"tag":95,"props":210,"children":211},{"style":102},[212],{"type":19,"value":213},"  if",{"type":13,"tag":95,"props":215,"children":216},{"style":119},[217],{"type":19,"value":218}," (",{"type":13,"tag":95,"props":220,"children":221},{"style":102},[222],{"type":19,"value":223},"!",{"type":13,"tag":95,"props":225,"children":226},{"style":119},[227],{"type":19,"value":228},"username.value) {\n",{"type":13,"tag":95,"props":230,"children":232},{"class":97,"line":231},5,[233,238,243,248,252,257],{"type":13,"tag":95,"props":234,"children":235},{"style":119},[236],{"type":19,"value":237},"    process.client ",{"type":13,"tag":95,"props":239,"children":240},{"style":102},[241],{"type":19,"value":242},"&&",{"type":13,"tag":95,"props":244,"children":245},{"style":113},[246],{"type":19,"value":247}," alert",{"type":13,"tag":95,"props":249,"children":250},{"style":119},[251],{"type":19,"value":183},{"type":13,"tag":95,"props":253,"children":254},{"style":186},[255],{"type":19,"value":256},"'Sorry, you need to fill your username'",{"type":13,"tag":95,"props":258,"children":259},{"style":119},[260],{"type":19,"value":194},{"type":13,"tag":95,"props":262,"children":264},{"class":97,"line":263},6,[265,270,275,279,284],{"type":13,"tag":95,"props":266,"children":267},{"style":102},[268],{"type":19,"value":269},"    return",{"type":13,"tag":95,"props":271,"children":272},{"style":113},[273],{"type":19,"value":274}," navigateTo",{"type":13,"tag":95,"props":276,"children":277},{"style":119},[278],{"type":19,"value":183},{"type":13,"tag":95,"props":280,"children":281},{"style":186},[282],{"type":19,"value":283},"'/'",{"type":13,"tag":95,"props":285,"children":286},{"style":119},[287],{"type":19,"value":194},{"type":13,"tag":95,"props":289,"children":291},{"class":97,"line":290},7,[292],{"type":13,"tag":95,"props":293,"children":294},{"style":119},[295],{"type":19,"value":296},"  }\n",{"type":13,"tag":95,"props":298,"children":300},{"class":97,"line":299},8,[301],{"type":13,"tag":95,"props":302,"children":303},{"style":119},[304],{"type":19,"value":305},"});\n",{"type":13,"tag":74,"props":307,"children":309},{"id":308},"pagesprivatevue",[310],{"type":13,"tag":41,"props":311,"children":313},{"className":312},[],[314],{"type":19,"value":315},"/pages/private.vue",{"type":13,"tag":85,"props":317,"children":321},{"className":318,"code":319,"language":320,"meta":5,"style":5},"language-vue shiki shiki-themes monokai","\u003Cscript setup>\ndefinePageMeta({\n  middleware: 'auth',\n});\nconst username = useState('username');\n\u003C/script>\n\n\u003Ctemplate>\n  \u003Cdiv>\n    \u003Ch1>Welcome {{ username }}\u003C/h1>\n    \u003CNuxtLink to=\"/\">Home\u003C/NuxtLink>\n  \u003C/div>\n\u003C/template>\n","vue",[322],{"type":13,"tag":41,"props":323,"children":324},{"__ignoreMap":5},[325,348,361,379,386,418,434,441,457,475,501,541,558],{"type":13,"tag":95,"props":326,"children":327},{"class":97,"line":98},[328,333,338,343],{"type":13,"tag":95,"props":329,"children":330},{"style":119},[331],{"type":19,"value":332},"\u003C",{"type":13,"tag":95,"props":334,"children":335},{"style":102},[336],{"type":19,"value":337},"script",{"type":13,"tag":95,"props":339,"children":340},{"style":113},[341],{"type":19,"value":342}," setup",{"type":13,"tag":95,"props":344,"children":345},{"style":119},[346],{"type":19,"value":347},">\n",{"type":13,"tag":95,"props":349,"children":350},{"class":97,"line":157},[351,356],{"type":13,"tag":95,"props":352,"children":353},{"style":113},[354],{"type":19,"value":355},"definePageMeta",{"type":13,"tag":95,"props":357,"children":358},{"style":119},[359],{"type":19,"value":360},"({\n",{"type":13,"tag":95,"props":362,"children":363},{"class":97,"line":197},[364,369,374],{"type":13,"tag":95,"props":365,"children":366},{"style":119},[367],{"type":19,"value":368},"  middleware: ",{"type":13,"tag":95,"props":370,"children":371},{"style":186},[372],{"type":19,"value":373},"'auth'",{"type":13,"tag":95,"props":375,"children":376},{"style":119},[377],{"type":19,"value":378},",\n",{"type":13,"tag":95,"props":380,"children":381},{"class":97,"line":207},[382],{"type":13,"tag":95,"props":383,"children":384},{"style":119},[385],{"type":19,"value":305},{"type":13,"tag":95,"props":387,"children":388},{"class":97,"line":231},[389,394,398,402,406,410,414],{"type":13,"tag":95,"props":390,"children":391},{"style":146},[392],{"type":19,"value":393},"const",{"type":13,"tag":95,"props":395,"children":396},{"style":119},[397],{"type":19,"value":168},{"type":13,"tag":95,"props":399,"children":400},{"style":102},[401],{"type":19,"value":173},{"type":13,"tag":95,"props":403,"children":404},{"style":113},[405],{"type":19,"value":178},{"type":13,"tag":95,"props":407,"children":408},{"style":119},[409],{"type":19,"value":183},{"type":13,"tag":95,"props":411,"children":412},{"style":186},[413],{"type":19,"value":189},{"type":13,"tag":95,"props":415,"children":416},{"style":119},[417],{"type":19,"value":194},{"type":13,"tag":95,"props":419,"children":420},{"class":97,"line":263},[421,426,430],{"type":13,"tag":95,"props":422,"children":423},{"style":119},[424],{"type":19,"value":425},"\u003C/",{"type":13,"tag":95,"props":427,"children":428},{"style":102},[429],{"type":19,"value":337},{"type":13,"tag":95,"props":431,"children":432},{"style":119},[433],{"type":19,"value":347},{"type":13,"tag":95,"props":435,"children":436},{"class":97,"line":290},[437],{"type":13,"tag":95,"props":438,"children":439},{"emptyLinePlaceholder":201},[440],{"type":19,"value":204},{"type":13,"tag":95,"props":442,"children":443},{"class":97,"line":299},[444,448,453],{"type":13,"tag":95,"props":445,"children":446},{"style":119},[447],{"type":19,"value":332},{"type":13,"tag":95,"props":449,"children":450},{"style":102},[451],{"type":19,"value":452},"template",{"type":13,"tag":95,"props":454,"children":455},{"style":119},[456],{"type":19,"value":347},{"type":13,"tag":95,"props":458,"children":460},{"class":97,"line":459},9,[461,466,471],{"type":13,"tag":95,"props":462,"children":463},{"style":119},[464],{"type":19,"value":465},"  \u003C",{"type":13,"tag":95,"props":467,"children":468},{"style":102},[469],{"type":19,"value":470},"div",{"type":13,"tag":95,"props":472,"children":473},{"style":119},[474],{"type":19,"value":347},{"type":13,"tag":95,"props":476,"children":478},{"class":97,"line":477},10,[479,484,488,493,497],{"type":13,"tag":95,"props":480,"children":481},{"style":119},[482],{"type":19,"value":483},"    \u003C",{"type":13,"tag":95,"props":485,"children":486},{"style":102},[487],{"type":19,"value":14},{"type":13,"tag":95,"props":489,"children":490},{"style":119},[491],{"type":19,"value":492},">Welcome {{ username }}\u003C/",{"type":13,"tag":95,"props":494,"children":495},{"style":102},[496],{"type":19,"value":14},{"type":13,"tag":95,"props":498,"children":499},{"style":119},[500],{"type":19,"value":347},{"type":13,"tag":95,"props":502,"children":504},{"class":97,"line":503},11,[505,509,514,519,523,528,533,537],{"type":13,"tag":95,"props":506,"children":507},{"style":119},[508],{"type":19,"value":483},{"type":13,"tag":95,"props":510,"children":511},{"style":102},[512],{"type":19,"value":513},"NuxtLink",{"type":13,"tag":95,"props":515,"children":516},{"style":113},[517],{"type":19,"value":518}," to",{"type":13,"tag":95,"props":520,"children":521},{"style":119},[522],{"type":19,"value":173},{"type":13,"tag":95,"props":524,"children":525},{"style":186},[526],{"type":19,"value":527},"\"/\"",{"type":13,"tag":95,"props":529,"children":530},{"style":119},[531],{"type":19,"value":532},">Home\u003C/",{"type":13,"tag":95,"props":534,"children":535},{"style":102},[536],{"type":19,"value":513},{"type":13,"tag":95,"props":538,"children":539},{"style":119},[540],{"type":19,"value":347},{"type":13,"tag":95,"props":542,"children":544},{"class":97,"line":543},12,[545,550,554],{"type":13,"tag":95,"props":546,"children":547},{"style":119},[548],{"type":19,"value":549},"  \u003C/",{"type":13,"tag":95,"props":551,"children":552},{"style":102},[553],{"type":19,"value":470},{"type":13,"tag":95,"props":555,"children":556},{"style":119},[557],{"type":19,"value":347},{"type":13,"tag":95,"props":559,"children":561},{"class":97,"line":560},13,[562,566,570],{"type":13,"tag":95,"props":563,"children":564},{"style":119},[565],{"type":19,"value":425},{"type":13,"tag":95,"props":567,"children":568},{"style":102},[569],{"type":19,"value":452},{"type":13,"tag":95,"props":571,"children":572},{"style":119},[573],{"type":19,"value":347},{"type":13,"tag":74,"props":575,"children":577},{"id":576},"pagesindevvue",[578],{"type":13,"tag":41,"props":579,"children":581},{"className":580},[],[582],{"type":19,"value":583},"/pages/indev.vue",{"type":13,"tag":85,"props":585,"children":587},{"className":318,"code":586,"language":320,"meta":5,"style":5},"\u003Cscript setup>\nconst username = useState('username');\n\u003C/script>\n\n\u003Ctemplate>\n  \u003Cdiv>\n    \u003Ch1>Home\u003C/h1>\n    \u003Cp>In order to enter the secret page, you need to fill your username:\u003C/p>\n    \u003Cp>\u003Cinput v-model=\"username\" placeholder=\"Username\" />\u003C/p>\n    \u003CNuxtLink to=\"/secret\">Secret page\u003C/NuxtLink>\n  \u003C/div>\n\u003C/template>\n",[588],{"type":13,"tag":41,"props":589,"children":590},{"__ignoreMap":5},[591,610,641,656,663,678,693,716,740,811,848,863],{"type":13,"tag":95,"props":592,"children":593},{"class":97,"line":98},[594,598,602,606],{"type":13,"tag":95,"props":595,"children":596},{"style":119},[597],{"type":19,"value":332},{"type":13,"tag":95,"props":599,"children":600},{"style":102},[601],{"type":19,"value":337},{"type":13,"tag":95,"props":603,"children":604},{"style":113},[605],{"type":19,"value":342},{"type":13,"tag":95,"props":607,"children":608},{"style":119},[609],{"type":19,"value":347},{"type":13,"tag":95,"props":611,"children":612},{"class":97,"line":157},[613,617,621,625,629,633,637],{"type":13,"tag":95,"props":614,"children":615},{"style":146},[616],{"type":19,"value":393},{"type":13,"tag":95,"props":618,"children":619},{"style":119},[620],{"type":19,"value":168},{"type":13,"tag":95,"props":622,"children":623},{"style":102},[624],{"type":19,"value":173},{"type":13,"tag":95,"props":626,"children":627},{"style":113},[628],{"type":19,"value":178},{"type":13,"tag":95,"props":630,"children":631},{"style":119},[632],{"type":19,"value":183},{"type":13,"tag":95,"props":634,"children":635},{"style":186},[636],{"type":19,"value":189},{"type":13,"tag":95,"props":638,"children":639},{"style":119},[640],{"type":19,"value":194},{"type":13,"tag":95,"props":642,"children":643},{"class":97,"line":197},[644,648,652],{"type":13,"tag":95,"props":645,"children":646},{"style":119},[647],{"type":19,"value":425},{"type":13,"tag":95,"props":649,"children":650},{"style":102},[651],{"type":19,"value":337},{"type":13,"tag":95,"props":653,"children":654},{"style":119},[655],{"type":19,"value":347},{"type":13,"tag":95,"props":657,"children":658},{"class":97,"line":207},[659],{"type":13,"tag":95,"props":660,"children":661},{"emptyLinePlaceholder":201},[662],{"type":19,"value":204},{"type":13,"tag":95,"props":664,"children":665},{"class":97,"line":231},[666,670,674],{"type":13,"tag":95,"props":667,"children":668},{"style":119},[669],{"type":19,"value":332},{"type":13,"tag":95,"props":671,"children":672},{"style":102},[673],{"type":19,"value":452},{"type":13,"tag":95,"props":675,"children":676},{"style":119},[677],{"type":19,"value":347},{"type":13,"tag":95,"props":679,"children":680},{"class":97,"line":263},[681,685,689],{"type":13,"tag":95,"props":682,"children":683},{"style":119},[684],{"type":19,"value":465},{"type":13,"tag":95,"props":686,"children":687},{"style":102},[688],{"type":19,"value":470},{"type":13,"tag":95,"props":690,"children":691},{"style":119},[692],{"type":19,"value":347},{"type":13,"tag":95,"props":694,"children":695},{"class":97,"line":290},[696,700,704,708,712],{"type":13,"tag":95,"props":697,"children":698},{"style":119},[699],{"type":19,"value":483},{"type":13,"tag":95,"props":701,"children":702},{"style":102},[703],{"type":19,"value":14},{"type":13,"tag":95,"props":705,"children":706},{"style":119},[707],{"type":19,"value":532},{"type":13,"tag":95,"props":709,"children":710},{"style":102},[711],{"type":19,"value":14},{"type":13,"tag":95,"props":713,"children":714},{"style":119},[715],{"type":19,"value":347},{"type":13,"tag":95,"props":717,"children":718},{"class":97,"line":299},[719,723,727,732,736],{"type":13,"tag":95,"props":720,"children":721},{"style":119},[722],{"type":19,"value":483},{"type":13,"tag":95,"props":724,"children":725},{"style":102},[726],{"type":19,"value":21},{"type":13,"tag":95,"props":728,"children":729},{"style":119},[730],{"type":19,"value":731},">In order to enter the secret page, you need to fill your username:\u003C/",{"type":13,"tag":95,"props":733,"children":734},{"style":102},[735],{"type":19,"value":21},{"type":13,"tag":95,"props":737,"children":738},{"style":119},[739],{"type":19,"value":347},{"type":13,"tag":95,"props":741,"children":742},{"class":97,"line":459},[743,747,751,756,761,766,770,775,780,784,789,793,798,803,807],{"type":13,"tag":95,"props":744,"children":745},{"style":119},[746],{"type":19,"value":483},{"type":13,"tag":95,"props":748,"children":749},{"style":102},[750],{"type":19,"value":21},{"type":13,"tag":95,"props":752,"children":753},{"style":119},[754],{"type":19,"value":755},">\u003C",{"type":13,"tag":95,"props":757,"children":758},{"style":102},[759],{"type":19,"value":760},"input",{"type":13,"tag":95,"props":762,"children":763},{"style":113},[764],{"type":19,"value":765}," v-model",{"type":13,"tag":95,"props":767,"children":768},{"style":119},[769],{"type":19,"value":173},{"type":13,"tag":95,"props":771,"children":772},{"style":119},[773],{"type":19,"value":774},"\"",{"type":13,"tag":95,"props":776,"children":777},{"style":119},[778],{"type":19,"value":779},"username",{"type":13,"tag":95,"props":781,"children":782},{"style":119},[783],{"type":19,"value":774},{"type":13,"tag":95,"props":785,"children":786},{"style":113},[787],{"type":19,"value":788}," placeholder",{"type":13,"tag":95,"props":790,"children":791},{"style":119},[792],{"type":19,"value":173},{"type":13,"tag":95,"props":794,"children":795},{"style":186},[796],{"type":19,"value":797},"\"Username\"",{"type":13,"tag":95,"props":799,"children":800},{"style":119},[801],{"type":19,"value":802}," />\u003C/",{"type":13,"tag":95,"props":804,"children":805},{"style":102},[806],{"type":19,"value":21},{"type":13,"tag":95,"props":808,"children":809},{"style":119},[810],{"type":19,"value":347},{"type":13,"tag":95,"props":812,"children":813},{"class":97,"line":477},[814,818,822,826,830,835,840,844],{"type":13,"tag":95,"props":815,"children":816},{"style":119},[817],{"type":19,"value":483},{"type":13,"tag":95,"props":819,"children":820},{"style":102},[821],{"type":19,"value":513},{"type":13,"tag":95,"props":823,"children":824},{"style":113},[825],{"type":19,"value":518},{"type":13,"tag":95,"props":827,"children":828},{"style":119},[829],{"type":19,"value":173},{"type":13,"tag":95,"props":831,"children":832},{"style":186},[833],{"type":19,"value":834},"\"/secret\"",{"type":13,"tag":95,"props":836,"children":837},{"style":119},[838],{"type":19,"value":839},">Secret page\u003C/",{"type":13,"tag":95,"props":841,"children":842},{"style":102},[843],{"type":19,"value":513},{"type":13,"tag":95,"props":845,"children":846},{"style":119},[847],{"type":19,"value":347},{"type":13,"tag":95,"props":849,"children":850},{"class":97,"line":503},[851,855,859],{"type":13,"tag":95,"props":852,"children":853},{"style":119},[854],{"type":19,"value":549},{"type":13,"tag":95,"props":856,"children":857},{"style":102},[858],{"type":19,"value":470},{"type":13,"tag":95,"props":860,"children":861},{"style":119},[862],{"type":19,"value":347},{"type":13,"tag":95,"props":864,"children":865},{"class":97,"line":543},[866,870,874],{"type":13,"tag":95,"props":867,"children":868},{"style":119},[869],{"type":19,"value":425},{"type":13,"tag":95,"props":871,"children":872},{"style":102},[873],{"type":19,"value":452},{"type":13,"tag":95,"props":875,"children":876},{"style":119},[877],{"type":19,"value":347},{"type":13,"tag":879,"props":880,"children":881},"style",{},[882],{"type":19,"value":883},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":5,"searchDepth":157,"depth":157,"links":885},[886],{"id":64,"depth":157,"text":67},"markdown","content:middleware.md","content","middleware.md","md",1709822570911]